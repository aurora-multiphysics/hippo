[Tests]
    [foam_bc_action]
        [setup]
            type = RunCommand
            command = 'bash -c "foamCleanCase -case foam && blockMesh -case foam"'
        []
        [check_foam_bc_input_syntax]
            type = RunApp
            input = main.i
            prereq = foam_bc_action/setup
            allow_warnings = true
        []
        [foam_var_error]
            type = RunException
            input = main.i
            prereq = foam_bc_action/setup
            expect_err = "There is no OpenFOAM field named 'T1'"
            cli_args = 'FoamBCs/temp/foam_variable=T1'
            allow_warnings = true
        []
        [foam_boundary_error]
            type = RunException
            input = main.i
            prereq = foam_bc_action/setup
            expect_err = "Boundary 'left1' not found in FoamMesh"
            cli_args = 'FoamBCs/temp/boundary=left1'
            allow_warnings = true
        []
        [foam_duplicated_boundary_error]
            type = RunException
            input = main.i
            prereq = foam_bc_action/setup
            expect_err = "Imposed FoamBC has duplicated boundary 'left' for foam variable 'T'"
            cli_args = 'FoamBCs/temp_r/boundary=left'
            allow_warnings = true
        []
        [old_bc_temp]
            type = RunException
            input = main.i
            prereq = foam_bc_action/setup
            expect_err = "Old BC syntax"
            cli_args = 'Problem/temp=dummy'
            allow_warnings = true
        []
        [old_bc_heat_flux]
            type = RunException
            input = main.i
            prereq = foam_bc_action/setup
            expect_err = "Old BC syntax"
            cli_args = 'Problem/heat_flux=dummy'
            allow_warnings = true
        []

    []
    [foam_bc_old_style]
        [succeed]
            type = RunApp
            input = deprecate_main.i
            prereq = foam_bc_action/setup
            allow_warnings = true
            cli_args = 'Problem/temp=T_value'
        []
        [no_temp_and_heat_flux]
            type = RunException
            input = deprecate_main.i
            prereq = foam_bc_action/setup
            expect_err = "'temp' and 'heat_flux' cannot both be specified."
            cli_args = 'Problem/temp=T_value Problem/heat_flux=dummy'
        []
        [deprecate_temp]
            type = RunException
            input = deprecate_main.i
            prereq = foam_bc_action/setup
            expect_err = "Use FoamFixedValueBC in the new"
            cli_args='--error-deprecated Problem/temp=T_value'
        []
        [deprecate_heat_flux]
            type = RunException
            input = deprecate_main.i
            prereq = foam_bc_action/setup
            expect_err = "Use FoamFixedGradientBC in the new"
            cli_args='--error-deprecated Problem/heat_flux=T_value'
        []
        [deprecate_foam_temp]
            type = RunException
            input = deprecate_main.i
            prereq = foam_bc_action/setup
            expect_err = "Use FoamVariableField in the new"
            cli_args='--error-deprecated Problem/foam_temp=T_value'
        []
        [deprecate_foam_heat_flux]
            type = RunException
            input = deprecate_main.i
            prereq = foam_bc_action/setup
            expect_err = "Use FoamFunctionObject in the new"
            cli_args='--error-deprecated Problem/foam_heat_flux=T_value'
        []
        [order_of_t_is_not_constant]
            type = RunException
            input = order_of_t_is_not_constant.i
            expect_err = "must be a constant monomial"
            cli_args = "AuxVariables/T/order=FIRST"
        []
        [order_of_t_is_not_monomial]
            type = RunException
            input = order_of_t_is_not_constant.i
            expect_err = "must be a constant monomial"
            cli_args = "AuxVariables/T/family=LAGRANGE AuxVariables/T/order=FIRST"
        []
        [v_doesnt_exist]
            type = RunException
            input = order_of_t_is_not_constant.i
            expect_err = "Variable 'T1' doesn't exist"
            cli_args = "FoamBCs/T/v=T1"
        []
    []
[]
