[Tests]
    [foam_bc_fixed_gradient]
        [setup]
            type = RunCommand
            command = 'bash -c "foamCleanCase -case foam && blockMesh -case foam"'
        []
        [diffusivity_coeff_err]
            type = RunException
            input = main.i
            prereq = foam_bc_fixed_gradient/setup
            expect_err = "Diffusivity coefficient 'kappa1' not a Foam volScalarField"
            cli_args = 'FoamBCs/T_flux/diffusivity_coefficient=kappa1'
            allow_warnings = true
        []
        [run]
            type = RunApp
            input = main.i
            prereq = foam_bc_fixed_gradient/setup
            allow_warnings = true
        []
        [verify]
            type = PythonUnitTest
            input = test.py
            prereq = foam_bc_fixed_gradient/run
        []
        [run_no_kappa]
            type = RunApp
            input = main.i
            cli_args = "FoamBCs/T_flux/diffusivity_coefficient='' AuxKernels/T_flux/expression='t'"
            prereq = foam_bc_fixed_gradient/verify
            allow_warnings = true
        []
        [verify_no_kappa]
            type = PythonUnitTest
            input = test.py
            prereq = foam_bc_fixed_gradient/run_no_kappa
        []
    []
[]
