[Tests]
  [restart_from_transient_serial]
    # Test that we can create a checkpoint and restart from it.
    # The final reference mesh was generated by running the solve for the full
    # 2 seconds, whereas each stage of this tests runs 1 second.
    [setup]
      type = RunCommand
      command = '(cd buoyantCavity && ./Allclean && blockMesh)'
    []
    [first]
      type = Exodiff
      prereq = restart_from_transient_serial/setup
      input = first.i
      cli_args = '--half-transient'
      exodiff = first_out.e
      gold_dir = gold_1
      delete_output_before_running = true
    []
    # TODO: issue here is that the output file is frozen at the midway point.
    # The file doesn't seem to be being written to after the restart.
    [restart]
      type = Exodiff
      prereq = restart_from_transient_serial/first
      input = first.i
      cli_args = '--recover first_out_cp/LATEST'
      exodiff = first_out.e
      gold_dir = gold_2
      delete_output_before_running = false
    []
  []
[]
