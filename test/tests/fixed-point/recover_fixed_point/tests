[Tests]
    [recover]
        [setup]
            type = RunCommand
            command = 'bash -c "foamCleanCase -case foam && blockMesh -case foam && decomposePar -case foam"'
        []
        [first]
            type = RunApp
            prereq = recover/setup
            input = main.i
            cli_args = '--test-checkpoint-half-transient'
            min_parallel = 2
            max_parallel = 2
        []
        [restart]
            type = Exodiff
            prereq = recover/first
            input = main.i
            cli_args = '--recover main_out_cp/LATEST'
            exodiff = main_out.e
            delete_output_before_running = false
            min_parallel = 2
            max_parallel = 2
        []
        [prep_verify]
            type = RunCommand
            command = 'bash -c "reconstructPar -case foam && tar xvf gold/unsteady_fixed_point_reference.tar.gz -C gold/"'
            prereq = recover/restart
        []
        [verify]
            type = PythonUnitTest
            input = test.py
            prereq = recover/prep_verify
        []
        [clean]
            type = RunCommand
            command = 'bash -c "cd gold && ./Allclean && rm -r 0 Allclean constant system"'
            prereq = recover/prep_verify
        []
    []
    [restep]
        [setup]
            type = RunCommand
            command = 'bash -c "foamCleanCase -case foam && blockMesh -case foam && decomposePar -case foam"'
            prereq = recover/clean
        []
        [run]
            type = Exodiff
            prereq = restep/setup
            input = main_restep.i
            exodiff = main_out.e
            min_parallel = 2
            max_parallel = 2
        []
        [prep_verify]
            type = RunCommand
            command = 'bash -c "reconstructPar -case foam && tar xvf gold/unsteady_fixed_point_reference.tar.gz -C gold/"'
            prereq = restep/run
        []
        [verify]
            type = PythonUnitTest
            input = test.py
            prereq = restep/prep_verify
        []
        [clean]
            type = RunCommand
            command = 'bash -c "cd gold && ./Allclean && rm -r 0 Allclean constant system"'
            prereq = restep/prep_verify
        []
    []
[]
